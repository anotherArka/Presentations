\documentclass[10pt]{beamer}
\usepackage{listings}
%\usetheme{Boadilla}
%\usecolortheme{beaver}

\usepackage[T1]{fontenc}
\usepackage{multicol}
\usepackage[latin9]{inputenc}
\usepackage{graphicx}
\usepackage{array}
%\usepackage{enumitem}
\usepackage{amsthm,amsmath,latexsym,amssymb,amsmath}
\usepackage{mathrsfs,graphicx,xargs,etoolbox}


\DeclareOptionBeamer{compress}{\beamer@compresstrue}
\ProcessOptionsBeamer

\mode<presentation>

\useoutertheme[footline=authortitle]{miniframes}
\useinnertheme{circles}
\usecolortheme{whale}
\usecolortheme{orchid}

\definecolor{beamer@blendedblue}{rgb}{0.3,0.5,0.8}

\setbeamercolor{structure}{fg=beamer@blendedblue}
\setbeamercolor{titlelike}{parent=structure}
\setbeamercolor{frametitle}{fg=black}
\setbeamercolor{title}{fg=black}
\setbeamercolor{item}{fg=black}

\mode
<all>

%commands
\newcommand{\U}{\mathscr{U}}
\newcommand{\R}{\mathbb{R}}

\theoremstyle{definition}
\newtheorem{question}{Question}[section]

\theoremstyle{definition}
\newtheorem{answer}{Answer}[section]


\setbeamercovered{invisible}

\title{J\' onsson\,-Tarski Theorem}
\author{Arka Ghosh}
\date{}

\begin{document}

\begin{frame}\label{frame: titlepage}
\titlepage
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: modal similarity type}

\visible<1->{
\begin{definition}[Modal similarity type]\label{defn: modal similarity type}
A modal similarity type $\tau$ is a pair $(O,\rho)$ where $O$ is a non-empty set, 
and $\rho$ is a function $O\to\mathbb{N}$. An element $\Delta \in O$ is called a modal
operator of arity $\rho(\Delta)$.
\end{definition}
}

\visible<2->{
\begin{definition}\label{defn: frame of a modal similarity type}
\end{definition}
Let $\tau$ be a modal similarity type. Let $W$ be a set and for every $\Delta \in \tau$ 
let $R_{\Delta}$ be a $(\rho(\Delta) + 1)$-ary relation on $W$.
Then $(W, R_{\Delta})_{\Delta \in \tau}$ is called a $\tau$-frame.
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: boolean algebra}

\begin{definition}[Boolean algebra]\label{defn: boolean algebra}
Let $A$ be a non-empty set, $0 \in A$, $+$ be a binary operator and $-$ be an unary operator
on $A$. Define $1 := 0$ and let $x\cdot y$ be the abbreviation for $-((-x)+(-y))$.\smallskip

$\mathcal{K} = (A,+,-,0)$ is a called a boolean algebra if the following hold
for $x, y, z \in A$:
\begin{multicols}{2}
\begin{enumerate}
\item[$\blacktriangleright$] $-(-x) = x$
\item[$\blacktriangleright$] $x + 0 = x$
\item[$\blacktriangleright$] $x + 1 = 1$
\item[$\blacktriangleright$] $x + x = x$
\item[$\blacktriangleright$] $x + (y + z) = (x + y) + z$
\item[$\blacktriangleright$] $x + y = y + x$
\item[$\blacktriangleright$] $x + (-x) = 1$
\item[$\blacktriangleright$] $x + (y\cdot z) = (x + y) \cdot (x + z)$
\item[]
\item[$\blacktriangleright$] $x \cdot 0 = 0$
\item[$\blacktriangleright$] $x \cdot 1 = x$
\item[$\blacktriangleright$] $x \cdot x = x$
\item[$\blacktriangleright$] $x \cdot (y \cdot z) = (x \cdot y) \cdot z$
\item[$\blacktriangleright$] $x \cdot y = y \cdot x$
\item[$\blacktriangleright$] $x \cdot (-x) = 1$
\item[$\blacktriangleright$] $x \cdot (y + z) = (x \cdot y) + (x \cdot z)$
\end{enumerate}
\end{multicols}
\end{definition}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: boolean algebra with operators}

\frametitle{Algebraizing modal logic}

\visible<2->{
\begin{block}{Axioms for the normal modal logic $\mathbf{K}$}
$\Diamond \bot \longleftrightarrow \bot$\\
$\Diamond (p \vee q) \longleftrightarrow \Diamond p \vee \Diamond q$
\end{block}
}

\visible<3->{
\begin{definition}[Boolean algebra with operators]
Let $\tau = (O, \rho)$ be a modal similarity type. Then
$\mathcal{J} = (A, +, -, 0, f_{\Delta})_{\Delta \in \tau}$ is called a boolean algebra
with operators(BAO) if the following holds:

\begin{enumerate}
\item[$\blacktriangleright$] $(A,+,-,0)$ is a boolean algebra.

\item[$\blacktriangleright$] For $\Delta \in O$, $f_{\Delta}$ 
is an operator of arity $\rho(\Delta)$.

\item[$\blacktriangleright$] (Normality) $f_{\Delta}(a_1,\dots,a_{\rho (\Delta)}) = 0$ 
if $a_i = 0$ for some $i$.

\item[$\blacktriangleright$] (Additivity) For all $i$,
$f_{\Delta}(a_1,\dots,a_i + a_i',\dots,a_n) = $
$$f_{\Delta}(a_1,\dots,a_i,\dots,a_n) + 
  f_{\Delta}(a_1,\dots,a_i',\dots,a_n) $$
}
  
\end{enumerate}
\end{definition}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame} 

\frametitle{Algebraizing modal logic}

\begin{definition}[Homomorphisms between boolean algebras]
\end{definition}

\begin{definition}[Homomorphisms between BAOs]
\end{definition}


\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: complex algebra}
\frametitle{Algebraizing modal semantics}

\only<1>{
\begin{definition}\label{defn: alg modal op}
Let $\tau$ be a modal similarity type $\tau = (O, \rho)$ and 
$(W,R_{\Delta})_{\Delta \in \tau}$ a $\tau$-frame. For every $\Delta \in \tau$ define
the $\rho(\Delta)$-ary function $m_{\Delta}$ on $\mathcal{P}(W)$ as:
$$ m_{\Delta}(X_1,\dots,X_{\rho(\Delta)}) = $$ 
$$\left\lbrace x \in W\ |\ \exists x_1\in X_1,\dots,x_{\rho(\Delta)}\in X_{\rho(\Delta)} 
  \text{ s.t. } R_{\Delta}xx_1\dots x_{\rho(\Delta)} \right\rbrace$$
\end{definition}
}

\only<2->{
\begin{definition}[Complex algebra]\label{defn: complex algebra}

\begin{enumerate}
\visible<2->{
\item[$\blacktriangleright$] Let $\tau$ be a modal similarity type, 
and $\mathcal{M} = (W, R_{\Delta})_{\Delta \in \tau}$ a $\tau$-frame. 
The (full) complex algebra of $\mathcal{M}$ (notation: $\mathcal{M}^+$ ) is defined as
$$ \mathcal{M}^+ = (\mathcal{P}(W), \cup,(\cdot)^c, m_{\Delta})_{\Delta \in \tau},$$ 
where $(\mathcal{P}(W), \cup,(\cdot)^c)$ is the power-set algebra.
}

\visible<3->{
\item[$\blacktriangleright$] A complex algebra is a subalgebra of a full complex algebra.
}

\visible<4->{
\item[$\blacktriangleright$] If $\mathcal{F}$ is a class of frames, then we denote 
the class of full complex algebras of frames in $\mathcal{F}$ by $Cm \mathcal{F}$.
}
\end{enumerate}
\end{definition}
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: complex alg are BAO}

\begin{lemma}
Let $\tau$ be a modal similarity type, and $\mathcal{M} = (W, R_{\Delta})_{\Delta \in \tau}$ a 
$\tau$-frame. Then $\mathcal{M}^+$ is a boolean algebra with $\tau$-operators.
\end{lemma}

\visible<2->{
\begin{proof}
To check:
\begin{enumerate}
\item[$\blacktriangleright$] $m_{\Delta}(X_1,\dots,X_n) = \phi$ if $X_i = \phi$ for some $i$.
\item[$\blacktriangleright$] $m_{\Delta}(X_1,\dots,X_i \cup X_i',\dots,X_n) = 
  m_{\Delta}(X_1,\dots,X_i,\dots,X_n) \cup m_{\Delta}(X_1,\dots,X_i',\dots,X_n)$ for all $i$. 
\end{enumerate}
\end{proof}
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: filters and ultrafilters}

\frametitle{Filters and ultrafilters}

\begin{definition}[Filter]\label{defn: filter}
Given a boolean algebra $\mathcal{K} = (A,+,-,0)$, $F\subseteq A$ is called a filter if:
\begin{enumerate}
\item[$\blacktriangleright$] $1 \in F$,
\item[$\blacktriangleright$] If $a,b \in F$ then $a \cdot b \in F$,
\item[$\blacktriangleright$] If $a \in F$ and $a \leq b$ then $b \in F$.
\end{enumerate}
$F$ is called proper if $0 \notin F$, or, equivalently, if $F$ is a strict subset of $A$.
\end{definition}

\visible<2->{
\begin{definition}[Ultrafilter]\label{defn: ultrafilter}
A filter $F$ is called an ultrafilter if for every $a \in A$, either $a$ or $-a$ 
belongs to $F$. We will denote the collection of ultrafilters of $\mathcal{K}$ as
$\mathbf{UF}\mathcal{K}$. 
\end{definition}
}

\end{frame}

\begin{frame}\label{frame: examples of filters}
\frametitle{Examples of filters}
\visible<1->{
\begin{example}\label{example: filter generated by an element}
Given $a \in A$, the set $a\uparrow := \{b \in A\ |\ a \leq b\}$ is a filter.
\end{example}
}

\visible<2->{
\begin{example}\label{example: filter generated by a subset}
Given $D \subseteq A$ the filter generated by $D$ is defined as, 
 $$F_D := \{a \in A\ |\ \exists d_0,\dots,d_n \in D \text{ s.t. } 
   d_0\cdot \dots \cdot d_n \leq a \}.$$
This is also the smallest filter containing $D$.   
\end{example}
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: finite meet property}

\visible<1->{
\begin{definition}[Finite meet property]\label{defn: finite meet property}
$D \subseteq A$ is said to have finite meet property if there is no finite subset 
$\{d_0,\dots,d_n\}$ of $D$ such that $d_0\cdot \hdots \cdot d_n = 0$. 
\end{definition}
}

\visible<2->{
\begin{lemma}\label{lemma: when generated filter is proper}
Given $D \subseteq A$, $F_D$ is proper if and only if $D$ has the finite meet property
\end{lemma}
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: prp of ultrafilters}

\frametitle{Properties of ultrafilters}

\visible<1->{
\begin{lemma}\label{lemma: ultrafilters are prime wrt +}
For and ultrafilter $F$, $a + b \in F$ iff $a \in F$ or $b \in F$.
\end{lemma}
}

\visible<2->{
\begin{theorem}\label{thm: ultrafilters are maximal}
Ultrafilters are also maximal filters. That is, if $F$ is an ultrafilter and $L$ is a proper
filter such that $F \subseteq L$ then $F = L$.
\end{theorem}
}

\visible<3->{
\begin{theorem}[Ultrafilter theorem]\label{thm: ultrafilter theorem}
Let $a \in A$, and $F$ is a proper filter of $A$, such that $a \notin F$. Then there is a
ultrafilter $L$, such that $F \subseteq L$ and $a \notin F$.
\end{theorem}
}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: Stone embedding}

\frametitle{Stone embedding}

\visible<1->{
\begin{definition}[Stone embedding]\label{defn: stone emb}
Let $\mathcal{K} = (A,+,-,0)$ be a boolean algebra. The Stone embedding 
$\rho : A \to \mathcal{P}(\mathbb{UF}\mathcal{K})$ is defined as,
$$\rho(a) = \{V \in \mathbb{UF}\mathcal{K}\ |\ a\in V \}$$
\end{definition}
}

\visible<2->{
\begin{theorem}\label{thm: stone emb}
$\rho$ is an embedding of boolean algebras.
\end{theorem}
}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: stone is hom}
\frametitle{Stone embedding}

\begin{proof}[$\rho$ is a homomorphism:]

For $a,b \in A$
\begin{align*}
\visible<1->{
\rho(a+b) &= \{V \in \mathbb{UF}\mathcal{K}\ |\ a+b\in V \}\\
  &= \{V \in \mathbb{UF}\mathcal{K}\ |\ a\in V \text{ or } b\in V\}\\
  &= \{V \in \mathbb{UF}\mathcal{K}\ |\ a\in V \} \cup 
     \{V \in \mathbb{UF}\mathcal{K}\ |\ a\in V \} \\
  &= \rho(a) \cup \rho(b) \\}
\visible<2->{  
\intertext{also, }
  \mathbb{UF}\mathcal{K} &= \rho(1) = \rho(a+(-a)) = \rho(a) \cup \rho(-a)}
\end{align*}

\end{proof}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: stone is into}
\frametitle{Stone embedding}

\begin{proof}[$\rho$ is injective:]
\visible<1->{Let $a,b \in A$ and $a\neq b$.}
\visible<2->{Then either $a\nleq b$ or $b\nleq a$.}
\visible<3->{WLOG assume $a\nleq b$.}
\visible<4->{Then $b \notin a\uparrow$.}
\visible<5->{Hence there is some ultrafilter $V$ such that 
  $a\uparrow \subseteq V$ and $b\notin V$.}
\visible<6->{But then $V\in \rho(a)$ and $V \notin \rho(b).$} 
\end{proof}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: ultrafilter frames}
\frametitle{Ultrafilter frames}

\visible<1->{
\begin{definition}\label{defn: ultrafilter op} 
Let $f$ be an $n$-ary operation on the boolean algbera
$\mathcal{K} = (A,+,-,0)$. Define the $(n+1)$-ary relation $Q_f$ 
on $\mathbb{UF}\mathcal{K}$ as:
$$ Q_f VV_1\dots V_n \text{ iff } f(a_1 ,\dots, a_n )\in V 
\text{ for all } a_1\in V_1,\dots ,a_n\in V_n.$$
\end{definition}
}

\visible<2->{
\begin{definition}[Ultrafilter frame]\label{defn: ultrafilter frame}
Let $\mathcal{K} = (A,+,-,0,f_{\Delta})_{\Delta \in \tau}$ 
be a BAO. The ultrafilter frame $\mathcal{K}_+$ is the structure 
$(\mathbb{UF}\mathcal{K}, Q_{f_{\Delta}})_{\Delta \in \tau}$.
\end{definition}
}
 
\visible<3->{
\begin{definition}[Canonical embedding algebra]\label{defn: can emb alg}
The complex algebra 
$(\mathcal{K}_+)^+$ on $\mathcal{P}(\mathbb{UF}\mathcal{K})$
is called the (canonical) embedding algebra of $\mathcal{K}$ and is
denoted as $\mathbb{CE}\mathcal{K}$.
\end{definition}
}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
\frametitle{Ultrafilter frames}

\begin{lemma}
Let $f$ be an $n$-ary operator on the boolean algebra $\mathcal{K}$, and 
$V, V_1,\dots ,V_n$ be ultrafilters of A. Then
$Q_f VV_1\dots V_n$ iff $-f(-a_1,\dots ,-a_n) \in V$ implies that for some $i$, $a_i\in V_i$.
\end{lemma}

\only<2>{
\begin{proof}
$(\implies)$ 
\begin{align*}
-f(-a_1,\dots ,-a_n) \in V &\iff f(-a_1,\dots ,-a_n) \notin V\\
&\implies (-a_i) \notin V \text{ for some $i$}\\
&\implies a_i \in V \text{ for some $i$.} 
\end{align*}
\end{proof}
}

\only<3>{
\begin{proof}
$(\Longleftarrow)$ 
Say $a_1\in V_1,\dots, a_n\in V_n$. Then,
\begin{align*}
f(a_1,\dots,a_n) \notin V &\implies -f(a_1,\dots,a_n) \in V \\
&\implies (-a_j)\in V_j \text{ for some } j \\
&\implies a_j\notin V_j \text{ for some } j. 
\end{align*}
But that contradicts our assumption.
\end{proof}
}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: final thm}

\frametitle{J\' onsson\,-Tarski Theorem}

\begin{theorem}\label{defn: final thm}
Let $\tau$ be a modal similarity type, and
$\mathcal{K} = (A, +, -, 0, f_{\Delta})_{\Delta \in \tau}$ be a boolean algebra with 
$\tau$-operators. Then the stone representation function 
$\rho : A \to \mathcal{P}(\mathbb{UF} \mathcal{K})$ given by
$$\rho(a) = \{V \in\mathbb{UF} \mathcal{K}\ |\ a \in V \}$$
is an embedding of $\mathcal{K}$ into $\mathbb{CE}\mathcal{K}$.
\end{theorem}

\visible<2->{
We have already proven that $\rho$ is a injective function. So we only need to prove 
that $\rho$ is a homomorphism of BAOs. That is, for an operation $f$ of arity $n$,
$$\rho(f(a_1,\dots,a_n)) = m_{Q_f}(\rho(a_1 ),\dots,\rho(a_n)).$$
}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{$RHS \subseteq LHS$}
$$\rho(f(a_1,\dots,a_n)) \supseteq m_{Q_f}(\rho(a_1 ),\dots,\rho(a_n)).$$

\begin{enumerate}
\item[$\rightarrow$] \visible<1->{Say $V \in RHS$.}
\item[$\rightarrow$] \visible<2->{Hence $\exists V_1 \in \rho(a_1),\dots,V_n \in 
\rho(a_n)$ such that, if
$x_1 \in V_1,\dots,x_n \in V_n$ then $f(x_1,\dots,x_n) \in V$.}
\item[$\rightarrow$] \visible<3->{But $a_1\in V_1,\dots,a_n\in V_n$.
Hence $f(a_1,\dots,a_n) \in V$.}

\end{enumerate}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{$LHS \subseteq RHS$}
$$\rho(f(a_1,\dots,a_n)) \subseteq m_{Q_f}(\rho(a_1 ),\dots,\rho(a_n)).$$
\\

\visible<2->{We have to prove that, if $f(a_1,\dots,a_n)\in V \in \mathbb{UF}\mathcal{K}$, 
then there are $V_1,\dots,V_n\in \mathbb{UF}\mathcal{K}$ such that 
$a_1\in V_1,\dots,a_n\in V_n$, and $VQ_fV_1\dots V_n$.}
\visible<3->{We will use induction on $n$ to prove this.}\smallskip

\visible<4->{Notice that, if $f$ is a $n$-ary operator, $1 \leq k\leq n$ then
$(x_1,\dots,x_{k-1}) \mapsto f(x_1,\dots,x_{k-1},a_k,\dots,a_n)$ is a $(k-1)$-ary operator.}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{frame}

\frametitle{Case: $n = 0$}

\visible<1->{
In this case $f$ is a constant. Then by definition $Q_fV$ iff $f \in V$. Then,
$$ m_{Q_f} = \{V \in \mathbb{UF}\mathcal{K}\ |\ f\in V\} = \rho(f). $$. 
}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{Case: $n = 1$}

\visible<1->{Say $V \in LHS$ i.e. $f(a) \in V$.}
\visible<2->{We have to find $U \in \mathbb{UF}\mathcal{K}$ such that $Q_fVU$.}
\visible<3->{Let, 
$$ F = \{y \in A\ |\ -f(-y) \in A\}.$$}
\visible<4->{Notice that if $Q_fVU$ then $F \subseteq U$.} 

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{Case: $n = 1$}

\visible<1->{
\begin{block}{$F$ is closed under taking finite meets}
Say $y_1,\dots,y_n \in F$. Then, 
\begin{align*}
f(-(y_1\cdot \hdots \cdot y_n)) &= -f((-y_1)+\dots +(-y_n)) \\ 
  &= -(f(-y_1)+\dots + f(-y_n)) \\
  &= (-f(-y_1)) \cdot \hdots \cdot (-f(-y_n)) \in V.
\end{align*} 
\end{block}
}

\visible<2->{
\begin{block}{$1 \in F$}
$-f(-1) = -f(0) = -0 = 1 \in V$.
\end{block}
}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}\label{frame: n=1, F has finite meet property}

\frametitle{Case: $n = 1$}

\begin{block}{$F' := \{ a\cdot y\ |\ y\in F \}$ has the finite meet property.} 
\begin{enumerate}
\pause{\item[$\rightarrow$]Notice that,
$(a\cdot y_1)\cdot\hdots\cdot(a\cdot y_n) = a\cdot(y_1\cdot\hdots\cdot y_n)$.}
\pause{\item[$\rightarrow$]Because $F$ is closed under taking finite meets 
we only need to prove that $a\cdot y \neq 0$ for all $y \in F$.}
\pause{\item[$\rightarrow$]But if $a\cdot y = 0$ then $a \leq (-y)$.} 
\pause{\item[$\rightarrow$]Because $f$ is additive it is also monotonic. 
So $f(a) \leq f(-y)$.}
\pause{\item[$\rightarrow$]Then $f(-y) \in V$. 
But that is in contradiction with the fact that $y \in F$.}
\end{enumerate}
\end{block}

\pause{Because $1\in F$, we have $a\in F'$.}
\pause{$F'$ has the finite meet property, so, there is an ultrafilter $U$
such that $F'\subseteq U$.}
\pause{$a\cdot y \leq y$, hence $F \subseteq U$.}
\pause{So $-f(-y) \in V \implies y \in U$. Hence $Q_fVU$.}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}

\frametitle{Inductive case: The theorem is true upto $n$. We want to prove for $n+1$}

\begin{enumerate}
\visible<1->{
\item[$\rightarrow$]Let $f$ be an $(n+1)$-ary operator where $n \geq 1$.}
\visible<2->{
\item[$\rightarrow$]$(x_1,\dots,x_n) \mapsto f(x_1,\dots,x_n,a_{n+1})$ 
is an operator of arity $n$.}
\visible<3->{
\item[$\rightarrow$] Using induction hypothesis we have ultrafilters $V_1,\dots,V_n$
such that $x_1\in V_1,\dots,x_n\in V_n$ implies $f(x_1,\dots,x_n,a_{n+1}) \in V$.}
\visible<4->{
\item[$\rightarrow$] We want an ultrafilter $U$ such that $Q_fVV_1\dots V_nU$.}
\visible<5->{
\item[] [From now on by $\overrightarrow{x} \in \overrightarrow{V}$
we will mean a tuple $(x_1,\dots,x_n)$ such that $x_1\in V_1,\dots,x_n\in V_n$.]}
\visible<6->{
\item[$\rightarrow$] Let,
$F := \{z \in A\ |\ \exists \overrightarrow{x}\in\overrightarrow{V}
  \text{ such that } -f(\overrightarrow{x},-z) \in V \}$}

\end{enumerate}


\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{Inductive case:}

\visible<1->{Now notice the following, which says that $Q_fVV_1\dots V_nU$ implies
  $F\subseteq U$}
\visible<2->{    
$$Q_fVV_1\dots V_nU$$}
\visible<3->{
$$\iff (\text{for all }\overrightarrow{x}\in\overrightarrow{V}, 
  (y\in U \implies f(\overrightarrow{x},y) \in V.))$$}
\visible<4->{
$$\iff (\text{for all }\overrightarrow{x}\in\overrightarrow{V}, 
  (f(\overrightarrow{x},y) \notin V \implies y\notin U.))$$}
\visible<5->{
$$\iff (\text{for all }\overrightarrow{x}\in\overrightarrow{V}, 
  (-f(\overrightarrow{x},y) \in V \implies (-y)\in U.))$$}      
\visible<6->{
$$\iff (\text{for all }\overrightarrow{x}\in\overrightarrow{V}, 
  (-f(\overrightarrow{x},-z) \in V \implies z\in U.))$$}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{Inductive case:}

\begin{block}{$F$ is closed under taking finite meets}
\begin{enumerate}
\visible<2->{
\item[$\rightarrow$] Take $z',z'' \in F$.}
\visible<3->{
\item[$\rightarrow$] Then there exists 
  $\overrightarrow{x'},\overrightarrow{x''}\in \overrightarrow{V}$ such that 
  $-f(\overrightarrow{x'},-z'),-f(\overrightarrow{x''},-z'') \in V.$}
\visible<4->{
\item[$\rightarrow$] Let $\overrightarrow{x} := (x_1'\cdot x_1'',\dots,x_n'\cdot x_n'')$}
\visible<5->{
\item[$\rightarrow$] $f(\overrightarrow{x},-(z'\cdot z'')) = 
  f(\overrightarrow{x},-z') + f(\overrightarrow{x},-z'')$}  
\end{enumerate}
\end{block}

\visible<6->{
\begin{block}{$1\in F$}
\visible<7->{
Let $\overrightarrow{1} = (1,\dots,1)$. Then $\overrightarrow{1} \in \overrightarrow{V}$.}
\visible<8->{
But, $-f(\overrightarrow{1},-1) = -f(\overrightarrow{1},0) = -0 = 1$.}
\end{block}
}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}

\frametitle{Inductive case:}

\begin{block}{$F' = \{ a_{n+1}\cdot y\ |\ y\in F\}$ has the finite meet property}
\pause
Because $F$ is closed under taking finite meets, it is enough to prove that
$a_{n+1}\cdot z \neq 0$ for all $z\in F$.\smallskip

\begin{enumerate}
\pause
\item[$\rightarrow$]Say $z\in F$ and $a_{n+1}\cdot z = 0$.
\pause
\item[$\rightarrow$]Then $a_{n+1} \leq (-z)$.
\pause
\item[$\rightarrow$]Also, there exists $\overrightarrow{x}$ such that 
$-f(\overrightarrow{x},-z) \in V$.
\pause
\item[$\rightarrow$]Hence, due to monotonicity of $f$, 
$-f(\overrightarrow{x},a_{n+1}) \in V.$
\pause
\item[$\rightarrow$]But that contradicts the induction hypothesis, which says 
$\overrightarrow{x}\in \overrightarrow{V}$ implies $f(\overrightarrow{x},a_{n+1}) \in V$.
\end{enumerate}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}